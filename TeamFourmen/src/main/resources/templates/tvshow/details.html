<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title th:text="${tvShowDto.getName() + ' (Tv Series) '}"></title>
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
        crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/camanjs/4.1.2/caman.full.min.js"></script>
<script src="https://kit.fontawesome.com/937852f454.js" crossorigin="anonymous"></script>

	<style>

		@font-face {
			font-family: 'Pretendard-Regular';
			src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff') format('woff');
			font-weight: 400;
			font-style: normal;
		}


		/* 폰트 적용 */
		body {
			font-family: 'Pretendard-Regular';
			background-color: black;
		}

		main {
			color: white;
		}
		.flex_header_container{
			position: relative;
			width: 100vw;
			height: 600px;

			display: flex;
		}

		.mid_layout{
			width: 100vw;
			height: auto;

			display: grid;
			grid:
			"mid_container mid_sidebar" 1fr
			/ 3fr 1fr;
			gap: 8px;
		}

		.mid_container{
			grid-area: mid_container;
			/* background-color: darkgrey; */
		}

		.mid_container div{
			margin-left: 8rem;
			padding: 30px;
		}

		.mid_sidebar{
			grid-area: mid_sidebar;
		}

		.mid_sidebar div{
			margin-top: 10px;
			margin-left: 10px;
			margin-right: 10px;
			padding: 10px;
		}

		.backdropImg {
			width: 100vw;
			height: 600px;
			object-fit: cover;
			position: absolute;
			top: 0;
			left: 0;
			filter: brightness(0.4);
		}

		.tvShow_Details {
			margin-left: 10rem;
			margin-right: 5rem;
			width: 100vw;
			/* background-color: blanchedalmond; */
			z-index: 1;
			display: flex;
		}

		section.poster {
			width: 30%;
			margin-top: 40px;
			/* background-color: white; */
			display: flex;
			flex-direction: column;
			border-radius: 10px;
		}

		.poster_ott{
			display: flex;
			flex-direction: column;
			align-items: stretch;
			width: 300px;
		}

		#poster_img{
			position: relative;
			width: 300px;
			height: 450px;
		}

		.ott_offer {
			width: 100%;
			height: 70px;
			padding-left: 25px;
			padding-right: 25px;
			display: flex;
			align-items: center;
			background-color: #022a35;
			overflow: hidden;
		}

		.ott_offer.provider {
			align-items: stretch;
		}

		div.provider, div.text {
			margin-left: 35px;
		}

		section.overView {
			margin-top: 45px;
			display: flex;
			flex-direction: column;
		}

		section.overView h1{
			margin-top: 30px;
			margin-left: 40px;
			margin-right: 30px;
			font-weight: bold;
			/* background-color: gainsboro; */
		}

		section.overView p{
			margin-left: 40px;
			margin-right: 30px;
			margin-top: 10px;
			/* background: aquamarine; */
		}

		p.genres {
			margin-top: 0;
		}

		div.user_custom_bar {
			display: flex;
		}

		ul {
			margin-left: 40px;
			margin-right: 30px;
			list-style-type: none;
			margin-left: 10px;
		}

		.profile-wrapper{
			display: flex;
			align-items: start;
			flex-direction: column;
		}

		li.createdBy {
			display: inline-block;
		}

		.profile{
			margin: 0 0 0 0;
			text-align: left;
		}

		span.profile-creator{
			text-align: left;
		}

		span.text_Streaming {
			margin-top: 5px;
			display: flex;
			flex-direction: column;
			align-items: start;
		}

		span.text_Streaming a{
			text-decoration: none;
			color: white;
		}

		div.profile-wrapper a{
			text-decoration: none;
			color: white;
		}

		div.genres_rating {
			margin-left: 40px;
			display: flex;
		}

		div.sns {
			display: flex;
		}

		div.sns a {
			margin-right: 20px;
		}

		div.cast_scroller {
			margin-top: 20px;
			margin-left: 0;
			padding: 0 0 0 0;
			overflow-x: auto;
			white-space: nowrap;
		}

		ol.people_scroller{
			padding-left: 0;
		}

		li.people_card {
			display: inline-block;
			overflow: hidden;
			margin-right: 10px;
		}

		.people_img {
			max-width: 100%;
		}

		.card-img-overlay{
			visibility: hidden;
			opacity: 0;
			transition: visibility 0s, opacity 0.5s ease;
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.5);
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: start;
		}

		.card:hover .card-img-overlay {
			visibility: visible;
			opacity: 1;
		}

		.card-title{
			white-space: normal;
		}

		.card-text{
			white-space: normal;
		}


		.tvShow_seasons {
			/* background-color: cornflowerblue; */
		}

		div.seasonList_scroller{
			margin-left: 0;
			padding: 0 0 0 0;
			overflow-x: auto;
			white-space: nowrap;
		}

		ol.season_scroller {
			padding-left: 0;
		}

		li.season_card {
			display: inline-block;
			overflow: hidden;
			margin-right: 10px;
		}

		.season_img {
			max-width: 100%;
		}

		.tvShow_recommendations{
			/*background-color: cornflowerblue;*/
		}

		div.recommendationList_scroller {
			margin-left: 0;
			padding: 0 0 0 0;
			overflow-x: auto;
			white-space: nowrap;
		}

		ol.recommendation_scroller {
			padding-left: 0;
		}

		li.recommendation_card {
			display: inline-block;
			overflow: hidden;
			margin-right: 10px;
		}

		.recommendation_img {
			max-width: 100%;
		}

		 ::-webkit-scrollbar {
			width: 5px; /* 스크롤바 너비 */
			height: 6px;
		}

		::-webkit-scrollbar-thumb { /* 스크롤바 색상, 모서리 곡선 */
			background-color: darkgray;
			border-radius: 6px;
		}

		::-webkit-scrollbar-track {
			background-color: black; /* 스크롤바 트랙 색상 */
		}


	</style>
</head>
<body class = "ko v4">
<header>
	<h1>TV SHOW Details</h1>
	<a th:href="@{/tvshow/list}" class="fst-italic text-secondary text-decoration-none">리스트로 돌아가기</a>
</header>

<main>
	<div class = "flex_header_container">
		<!-- 윗부분 배경화면 -->
		<img class = "backdropImg" th:src = " 'https:/image.tmdb.org/t/p/original' + ${tvShowDto.backdrop_path} "/>

		<div class = "tvShow_Details">
			<!-- 포스터 영역 -->
			<section class = "poster">
				<div class = "poster_ott">
					<img id = "poster_img"  class = "detail_poster rounded-top" th:src = " 'https:/image.tmdb.org/t/p/original' + ${tvShowDto.poster_path}" alt = "Tv Show Poster"/>
					<div class = "ott_offer rounded-bottom">
						<div class = "provider">
							<img class = "rounded" src = "https://media.themoviedb.org/t/p/original/pbpMk2JmcoNnQwx5JGpXngfoWtp.jpg" width="45" height="45">
						</div>
						<div class = "text">
							<span class = "text_Streaming">
								<small>Now Streaming</small>
								<h5><a class = "no_click" href="">Watch Now</a></h5>
							</span>
						</div>
					</div>
				</div>
			</section>
			<!-- 글 영역 -->
			<section class = "overView">
				<div>
					<h1 class="mb-0" th:text= "${tvShowDto.getName() + '(' + releaseYear + ')'}"></h1>
					<div class = "genres_rating">
						<p class = "rating mt-0 ms-0 me-2 border border-1" th:text = "${rating.getRating()} + '+' "></p>
						<p class = "genres mt-0 ms-0" th:text="${genres}"></p>
					</div>
				</div>
				<div class = "user_custom_bar">
					<p>평점</p>
					<p><i class="fa-solid fa-list"></i></p>
					<p><i class="fa-solid fa-heart"></i></p>
					<p><i class="fa-solid fa-star"></i></p>
				</div>
				<p class = "my-0 fs-5 fst-italic" th:text="${tvShowDto.getTagline()}"></p>
				<div>
					<p class = "fs-4 fw-bold mb-0">개요</p>
					<p class = "mt-0" th:text = "${tvShowDto.getOverview()}"></p>
					<ul>
						<li class = "createdBy" th:each = " createdBy : ${tvShowDto.getCreated_by()} " th:object=" ${createdBy} ">
							<div class = "profile-wrapper">
								<a th:href="@{''}"><p th:text="*{name}" class = "profile fw-bold fs-5 ms-0"></p></a>
								<span class = "profile-creator ms-0">창작자</span>
							</div>
						</li>
					</ul>
				</div>
			</section>
		</div>
	</div>
	<section class= "mid_layout">

		<div class = "mid_container">
			<div class = "tvShow_actors pb-0">
				<h3>캐스팅</h3>
				<div class = "cast_scroller">
					<ol class = "people_scroller">
						<li class="border-0 card people_card" th:each=" people : ${tvShowCast} " th:object=" ${people} ">
							<img class = "people_img" th:if="${people.profile_path ne null and people.profile_path ne 'null'}"  th:src = " 'https:/image.tmdb.org/t/p/original' + ${people.getProfile_path()}" width="180" height="273"/>
							<img class = "people_img" th:unless="${people.profile_path ne null and people.profile_path ne 'null'}" th:src=" @{'/image/default.png'}" width="180" height="273" />
							<a th:href="@{''}" class="text-decoration-none" target="_blank">
								<section class = "card-img-overlay">
									<p class = "card-title text-white fs-4 fw-bolder" th:text="${people.getName()}"></p>
									<p class = "card-text text-white fst-italic" th:text="${people.getCharacter()}"></p>
								</section>
							</a>
						</li>
					</ol>
				</div>
				<a th:href="@{''}"} class="text-decoration-none text-secondary" target="_blank"><p class="mt-2 mb-0 text-end">총 출연진 & 제작자 바로가기</p></a>
			</div>
			<div class = "mt-0 py-0">
				<hr class = "break_line border-1 opacity-50">
			</div>

			<div class = "tvShow_seasons pt-2">
				<h3>시즌</h3>
				<div class = "seasonList_scroller mt-3">
					<ol class = "season_scroller">
						<li class = "border-0 card season_card" th:each=" season : ${seasonList} " th:object="${season}">
							<img class="season_img" th:if="${season.poster_path ne null and season.poster_path ne 'null'}"  th:src=" @{'https:/image.tmdb.org/t/p/original' + ${season.getPoster_path()}} " width="180" height="273" />
							<img class="season_img" th:unless="${season.poster_path ne null and season.poster_path ne 'null'}" th:src=" @{'/image/default.png'}" width="180" height="273" />
							<a th:href="@{''}" class = "text-decoration-none" target="_blank">
								<section class="card-img-overlay">
									<p class = "card-title text-white fs-4 fw-bolder" th:text="${ 'Season ' + season.getSeason_number()}"></p>
									<p class = "card-text text-white fst-italic" th:text="${season.getAir_date()}"></p>
								</section>
							</a>
						</li>
					</ol>
				</div>
			</div>

			<div class = "mt-0 py-0">
				<hr class = "break_line border-1 opacity-50">
			</div>

			<div class = "tvShow_forum">
				<h3>리뷰...는 나중에</h3>
			</div>

			<div class = "mt-0 py-0">
				<hr class = "break_line border-1 opacity-50">
			</div>

			<div class = "tvShow_media">
				<h3>미디어를 팬페이지 게시판으로 만드는 아이디어는???...</h3>
			</div>

			<div class = "mt-0 py-0">
				<hr class = "break_line border-1 opacity-50">
			</div>

			<div class = "tvShow_recommendations pt-2">
				<h3>추천</h3>
				<div class = "recommendationList_scroller mt-3">
					<ol class= "recommendation_scroller">
						<li class = "border-0 card recommendation_card" th:each=" recommendation : ${tvShowReco} " th:object="${recommendation}">
							<img class = "recommendation_img" th:src = "@{'https:/image.tmdb.org/t/p/original' + ${recommendation.getBackdrop_path()}}" width="250" height="141"/>
							<a th:href = "@{/tvshow/details/{id}(id = ${recommendation.getId()})}" class = "text-decoration-none" target="_blank">
								<section class="card-img-overlay">
									<p class="card-title text-white fs-5 fw-bolder" th:text="${recommendation.getName()}"></p>
									<p class="card-text text-white fst-italic" th:text="${recommendation.getFirst_air_date()}"></p>
								</section>
							</a>
						</li>
					</ol>
				</div>
			</div>
		</div> <!-- 미드 콘테이너 -->

		<div class = "mid_sidebar">
			<div class = "sns mt-4">
				<a class = "text-reset" th:href=" 'https://www.facebook.com/' + ${sns.getFacebook_id()}" target="_blank" ><i class="fs-2 fa-brands fa-square-facebook"></i></a>
				<a class = "text-reset" th:href=" 'https://www.instagram.com/' + ${sns.getInstagram_id()}" target="_blank"><i class="fs-2 fa-brands fa-instagram"></i></a>
				<a class = "text-reset" th:href=" 'https://www.twitter.com/' + ${sns.getTwitter_id()}" target="_blank"><i class="fs-2 fa-brands fa-twitter"></i></a>
				<a class = "border-2 border-start text-reset homepage" th:href="${tvShowDto.getHomepage()}" target="_blank"><i class="ms-3 fs-2 fa-sharp fa-solid fa-link"></i></a>
			</div>
			<div>
				<p class = "my-0">원제</p>
				<p class = "mt-0 fs-4" th:text="${tvShowDto.getOriginal_name()}"></p>
				<p class = "my-0">최초 방영일</p>
				<p class = "mt-0 fs-4" th:text="${tvShowDto.getFirst_air_date()}"></p>
				<p class = "my-0">시즌 수</p>
				<p class = "mt-0 fs-4" th:text="${tvShowDto.getNumber_of_seasons()}"></p>
				<p class = "my-0">상태</p>
				<p class = "mt-0 fs-4" th:text="${tvShowDto.getStatus()}"></p>
				<p class = "my-0">방송사</p>
				<p class = "mt-0 fs-4" th:text="${network.getName()}"></p>
				<p class = "my-0">원어</p>
				<p class = "mt-0 fs-4" th:text="${tvShowDto.getOriginal_language()}"></p>
			</div>
		</div>
	</section>
</main>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
	</script>
</body>
</html>